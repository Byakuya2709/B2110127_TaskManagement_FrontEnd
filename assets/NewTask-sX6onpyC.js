import{_ as v,b as h,o as l,c as o,a as s,w as d,v as u,n as r,d as n,f as p,e as _}from"./index-DRxGKzcz.js";const f={name:"NewTask",data(){return{title:"",description:"",date:"",status:"",validate:{title:!1,description:!1,date:!1,status:!1}}},methods:{async createTask(){if(!this.isValidated){this.$toast.error("Please fill out all required fields.");return}try{const t={title:this.title,description:this.description,date:this.date,status:this.status,userId:this.userId};console.log(t);const i=await h.post("/user/task/newtask",t);console.log(i),this.$toast.success(i.data.message)}catch(t){console.log(t),this.$toast.error(t.response.data.message)}},validateTitle(t){this.validate.title=t.length>=6},validateDescription(t){this.validate.description=t.length>=10},validateDate(t){this.validate.date=!!t},validateStatus(t){this.validate.status=!!t}},watch:{title(t){this.validateTitle(t)},description(t){this.validateDescription(t)},date(t){this.validateDate(t)},status(t){this.validateStatus(t)}},computed:{isValidated(){return this.validate.title&&this.validate.description&&this.validate.date&&this.validate.status},userId(){return this.$authStore.userId}}},m={class:"mb-3"},b=s("label",{for:"title",class:"form-label"},"Title",-1),k={key:0,class:"invalid-feedback"},D={class:"mb-3"},T=s("label",{for:"description",class:"form-label"},"Description",-1),y={key:0,class:"invalid-feedback"},S={class:"mb-3"},g=s("label",{for:"date",class:"form-label"},"Date",-1),V={key:0,class:"invalid-feedback"},w={class:"mb-3"},N=s("label",{for:"status",class:"form-label"},"Status",-1),I=s("option",{value:"",disabled:""},"Select status",-1),x=s("option",{value:"PENDING"},"Pending",-1),C=s("option",{value:"IN_PROGRESS"},"In Progress",-1),q=s("option",{value:"CANCELED"},"Canceled",-1),E=[I,x,C,q],P={key:0,class:"invalid-feedback"},U=["disabled"];function B(t,i,M,G,e,c){return l(),o("div",null,[s("form",{onSubmit:i[4]||(i[4]=_((...a)=>c.createTask&&c.createTask(...a),["prevent"]))},[s("div",m,[b,d(s("input",{type:"text",class:r(["form-control",{"is-invalid":!e.validate.title}]),id:"title","onUpdate:modelValue":i[0]||(i[0]=a=>e.title=a)},null,2),[[u,e.title]]),!e.validate.title&&!e.title?(l(),o("div",k," Title is required and should be at least 6 characters. ")):n("",!0)]),s("div",D,[T,d(s("textarea",{class:r(["form-control",{"is-invalid":!e.validate.description}]),id:"description","onUpdate:modelValue":i[1]||(i[1]=a=>e.description=a)},null,2),[[u,e.description]]),!e.validate.description&&!e.description?(l(),o("div",y," Description is required and should be at least 10 characters. ")):n("",!0)]),s("div",S,[g,d(s("input",{type:"date",class:r(["form-control",{"is-invalid":!e.validate.date&&!e.date}]),id:"date","onUpdate:modelValue":i[2]||(i[2]=a=>e.date=a)},null,2),[[u,e.date]]),e.validate.date?n("",!0):(l(),o("div",V," Date is required. "))]),s("div",w,[N,d(s("select",{class:r(["form-select",{"is-invalid":!e.validate.status}]),id:"status","onUpdate:modelValue":i[3]||(i[3]=a=>e.status=a)},E,2),[[p,e.status]]),!e.validate.status&&!e.status?(l(),o("div",P," Status is required. ")):n("",!0)]),s("button",{type:"submit",class:"btn btn-primary",disabled:!c.isValidated}," Create Task ",8,U)],32)])}const z=v(f,[["render",B]]);export{z as default};
