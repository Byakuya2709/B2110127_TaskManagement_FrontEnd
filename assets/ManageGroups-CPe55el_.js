import{_ as v,b as m,o as a,c as r,a as e,F as u,k as h,t as l,i as d,d as g}from"./index-DRxGKzcz.js";const _=""+new URL("deafaultAvatar-qg1uF3MR.png",import.meta.url).href,k={data(){return{groups:[],expandedGroupId:null}},created(){this.fetchAllGroups()},methods:{async fetchAllGroups(){try{const s=await m.get("/admin/group/all");this.groups=s.data.data}catch(s){console.error("Error fetching groups:",s)}},toggleGroupDetails(s){this.expandedGroupId=this.expandedGroupId===s?null:s},viewUserInfo(s){this.$router.replace({name:"UserProfile",params:{userId:s.userId}})},assignTask(s){this.$router.replace({path:`/admin/newtask/${s.userId}`})},createGroup(){this.$router.replace({path:"/admin/manage/group/new-group"})},addUserToGroup(s){this.$router.replace({path:`/admin/manage/group/${s}/add-user`})}}},b={class:"group-list"},f={class:"button-group"},G=e("h2",null,"Danh sách nhóm làm việc",-1),y=["onClick"],A={class:"leader-info"},I={class:"leader-details"},x=e("strong",null,"Mô tả:",-1),C={class:"d-flex"},T=["src"],U={key:1,src:_,alt:"Placeholder Leader Avatar",class:"avatar"},w={class:"leader-avatar"},N=e("strong",null,"Nhóm trưởng:",-1),$=e("strong",null,"Mã:",-1),L={key:0,class:"user-list"},M={class:"user-header"},D=e("h4",null,"Thành viên",-1),F=["onClick"],B={class:"user-list-container"},P={class:"users"},V=["src"],E={key:1,src:_,alt:"Placeholder Leader Avatar",class:"avatar"},R={class:"user-body"},q=e("strong",null,"Mã nhân viên:",-1),S={class:"management-btn"},j=["onClick"],z=["onClick"];function H(s,c,J,K,i,o){return a(),r("div",b,[e("div",f,[e("button",{class:"btn btn-warning mx-2",onClick:c[0]||(c[0]=(...t)=>o.createGroup&&o.createGroup(...t))}," Tạo Nhóm ")]),G,(a(!0),r(u,null,h(i.groups,t=>(a(),r("div",{key:t.id,class:"group-card"},[e("div",{class:"group-header",onClick:n=>o.toggleGroupDetails(t.id)},[e("div",A,[e("div",I,[e("h3",null,l(t.name),1),e("p",null,[x,d(" "+l(t.description),1)]),e("div",C,[t.leader.leaderAvatar?(a(),r("img",{key:0,src:"data:image/png;base64,"+t.leader.leaderAvatar,alt:"Leader Avatar",class:"avatar"},null,8,T)):(a(),r("img",U)),e("div",w,[e("p",null,[N,d(" "+l(t.leader.leaderName),1)]),e("p",null,[$,d(l(t.leader.leaderId),1)])])])])])],8,y),i.expandedGroupId===t.id?(a(),r("div",L,[e("div",M,[D,e("button",{class:"btn btn-success",onClick:n=>o.addUserToGroup(t.id)}," Thêm thành viên ",8,F)]),e("div",B,[e("div",P,[(a(!0),r(u,null,h(t.listUser,n=>(a(),r("div",{key:n.userId,class:"user-card"},[n.userAvatar?(a(),r("img",{key:0,src:"data:image/png;base64,"+n.userAvatar,alt:"User Avatar",class:"avatar"},null,8,V)):(a(),r("img",E)),e("div",R,[e("h5",null,l(n.userFullname),1),e("p",null,[q,d(" "+l(n.userId),1)])]),e("div",S,[e("button",{class:"btn btn-custom btn-info mb-2",onClick:p=>o.viewUserInfo(n)}," Thông tin ",8,j),e("button",{class:"btn btn-custom btn-danger",onClick:p=>o.assignTask(n)}," Giao việc ",8,z)])]))),128))])])])):g("",!0)]))),128))])}const Q=v(k,[["render",H]]);export{Q as default};
