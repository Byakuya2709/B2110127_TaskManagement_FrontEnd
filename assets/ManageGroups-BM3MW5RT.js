import{_ as v,b as m,o as a,c as n,a as e,F as u,k as _,t as l,i as d,d as g}from"./index-DyDoL_kO.js";const h="/B2110127_TaskManagement_FrontEnd/assets/deafaultAvatar-qg1uF3MR.png",k={data(){return{groups:[],expandedGroupId:null}},created(){this.fetchAllGroups()},methods:{async fetchAllGroups(){try{const s=await m.get("/admin/group/all");this.groups=s.data.data}catch(s){console.error("Error fetching groups:",s)}},toggleGroupDetails(s){this.expandedGroupId=this.expandedGroupId===s?null:s},viewUserInfo(s){this.$router.replace({name:"UserProfile",params:{userId:s.userId}})},assignTask(s){this.$router.replace({path:`/admin/newtask/${s.userId}`})},createGroup(){this.$router.replace({path:"/admin/manage/group/new-group"})},addUserToGroup(s){this.$router.replace({path:`/admin/manage/group/${s}/add-user`})}}},b={class:"group-list"},f={class:"button-group"},G=e("h2",null,"Danh sách nhóm làm việc",-1),y=["onClick"],A={class:"leader-info"},I={class:"leader-details"},x=e("strong",null,"Mô tả:",-1),C={class:"d-flex"},T=["src"],U={key:1,src:h,alt:"Placeholder Leader Avatar",class:"avatar"},w={class:"leader-avatar"},M=e("strong",null,"Nhóm trưởng:",-1),N=e("strong",null,"Mã:",-1),$={key:0,class:"user-list"},F={class:"user-header"},B=e("h4",null,"Thành viên",-1),D=["onClick"],L={class:"user-list-container"},E={class:"users"},P=["src"],V={key:1,src:h,alt:"Placeholder Leader Avatar",class:"avatar"},q={class:"user-body"},R=e("strong",null,"Mã nhân viên:",-1),S={class:"management-btn"},j=["onClick"],z=["onClick"];function H(s,c,J,K,i,o){return a(),n("div",b,[e("div",f,[e("button",{class:"btn btn-warning mx-2",onClick:c[0]||(c[0]=(...t)=>o.createGroup&&o.createGroup(...t))}," Tạo Nhóm ")]),G,(a(!0),n(u,null,_(i.groups,t=>(a(),n("div",{key:t.id,class:"group-card"},[e("div",{class:"group-header",onClick:r=>o.toggleGroupDetails(t.id)},[e("div",A,[e("div",I,[e("h3",null,l(t.name),1),e("p",null,[x,d(" "+l(t.description),1)]),e("div",C,[t.leader.leaderAvatar?(a(),n("img",{key:0,src:"data:image/png;base64,"+t.leader.leaderAvatar,alt:"Leader Avatar",class:"avatar"},null,8,T)):(a(),n("img",U)),e("div",w,[e("p",null,[M,d(" "+l(t.leader.leaderName),1)]),e("p",null,[N,d(l(t.leader.leaderId),1)])])])])])],8,y),i.expandedGroupId===t.id?(a(),n("div",$,[e("div",F,[B,e("button",{class:"btn btn-success",onClick:r=>o.addUserToGroup(t.id)}," Thêm thành viên ",8,D)]),e("div",L,[e("div",E,[(a(!0),n(u,null,_(t.listUser,r=>(a(),n("div",{key:r.userId,class:"user-card"},[r.userAvatar?(a(),n("img",{key:0,src:"data:image/png;base64,"+r.userAvatar,alt:"User Avatar",class:"avatar"},null,8,P)):(a(),n("img",V)),e("div",q,[e("h5",null,l(r.userFullname),1),e("p",null,[R,d(" "+l(r.userId),1)])]),e("div",S,[e("button",{class:"btn btn-custom btn-info mb-2",onClick:p=>o.viewUserInfo(r)}," Thông tin ",8,j),e("button",{class:"btn btn-custom btn-danger",onClick:p=>o.assignTask(r)}," Giao việc ",8,z)])]))),128))])])])):g("",!0)]))),128))])}const Q=v(k,[["render",H]]);export{Q as default};
